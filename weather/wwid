import importlib
import subprocess

def import_with_version(module_name, version):
    try:
        module = importlib.import_module(module_name)
        if module.__version__ != version:
            raise ImportError(f"{module_name} version {module.__version__} is installed, but version {version} is required.")
    except ImportError:
        print(f"{module_name} is not installed. Installing version {version}...")
        subprocess.check_call(["pip", "install", f"{module_name}=={version}"])
        module = importlib.import_module(module_name)
    return module

# Example usage
np = import_with_version('numpy', '1.26.0')
