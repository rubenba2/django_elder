import matplotlib.pyplot as plt
import numpy as np

# Get the unique values of 'proposed_final_crr' and 'CRR'
unique_values = sorted(cohort_data['proposed_final_crr'].unique())  # Assuming 'proposed_final_crr' and 'CRR' have the same unique values

# Create the histogram for both variables (use 'density' to compare frequencies)
counts_proposed_final_crr = cohort_data['proposed_final_crr'].value_counts().sort_index()
counts_CRR = cohort_data['CRR'].value_counts().sort_index()

# Create the figure and axis for plotting
fig, ax = plt.subplots(figsize=(12, 6))

# Set the bar width (to make bars next to each other)
bar_width = 0.35

# Define the positions of the bars on the x-axis for each variable
positions = np.arange(len(unique_values))

# Plot the first histogram for 'proposed_final_crr'
ax.bar(positions - bar_width / 2, counts_proposed_final_crr, width=bar_width, label='proposed_final_crr', color='b')

# Plot the second histogram for 'CRR'
ax.bar(positions + bar_width / 2, counts_CRR, width=bar_width, label='CRR', color='r')

# Customize the x-axis (showing the unique values as labels)
ax.set_xticks(positions)
ax.set_xticklabels(unique_values, rotation=45)

# Add labels and title
ax.set_xlabel('Rating Values')
ax.set_ylabel('Frequency')
ax.set_title('Comparison of Frequencies for proposed_final_crr and CRR')

# Add legend
ax.legend()

# Display the plot
plt.tight_layout()
plt.show()
